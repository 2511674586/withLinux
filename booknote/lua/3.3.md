## Basic string functions

Lua strings are const.

`string.len(s)` returns the length of a string.

`string.rep(s, n)` repeats string s for n times and returns the generated string.

`string.lower(s)` and `string.upper(s)` do convertions between lower case and upper case.

if you'd like to sort an array of strings,
```
table.sort (a, function (a, b) return string.lower(a) < string.lower(b) end)
```

`string.sub(s, i, j)` extract a substring in s from the i-th character to the j-th character.
e.g. `string.sub(s, 2, -2)` removes the heading character and the ending character.

`string.char(n)` converts number (ASCII) to character.

`string.byte(s, i)` returns the ASCII code of the i-th char in string s. 
`string.byte(s, i, j)` where the ascii code of `string.sub(s, i, j)` will be returned.

`string.format(fmt, ...)` is used like sprintf/snprintf in C .

## pattern-matching functions

find, match, gsub (global substitution), gmatch (global match)

#### string.find

`string.find (string, needle)`
```
s = "hello world"
i, j = string.find (s, "hello")
print (i, j) --> 1 5 : start end
print (string.sub(s, i, j)) --> hello

print (string.find(s, "xxx")) --> nil
```

`string.find (string, needle, startfrom)`
```
local t = {} -- stores indexes
local i = 0
while true do
	i = string.find (s, "\n", i+1)
	if i == nil then break end
	t[#t + 1] = i
end
```

#### string.match

`string.match(string, pattern)`
```
print(string.match("hello world", "hello")) --> hello
```
with variable pattern
```
date = "today is 17/7/1990"
d = string.match (date, "%d+%d+%d+")
print (d) --> 17/7/1990
```

#### string.gsub

`string.gsub(string, old, new)`
```
s = string.gsub("lua is cute cute", "cute", "great")
print(s) --> lua is great great
```

`string.gsub(string, old, new, max_sub_number`

the second result returned by string.gsub is the number of substitutions.
```
count = select(2, string.gsub(str, " ", " ")) --> count spaces
```

#### string.gmatch

`string.gmatch(string, pattern)` it returns a function, which iterates all locations that a given pattern is matched.

```
words = {}
for w in string.gmatch(s, "%a+") do
	words[#words + 1] = w
end
```

imitate search strategy of "require"
```
function search (modname, path)
	modname = string.gsub(modname, "%.", "/") --> replace '.' with '/', where the dot is escaped.
	for c in string.gmatch(path, "[^;]+") do
		local fname = string.gsub(c, "?", modname)
		local f = io.open(fname)
		if f then
			f:close()
			return fname
		end
	end
	return nil
end
```

## pattern

TODO
